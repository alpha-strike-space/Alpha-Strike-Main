<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="description"
            content="The Alpha-Strike Leaderboard or Killboard for Eve Frontier"
        />
        <meta
            name="keywords"
            content="Eve Frontier, PVP, Leaderboard, Killboard"
        />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Alpha-Strike, Find your Content on the Frontier!</title>
        <link rel="shortcut icon" href="favicon.png" />
        <link rel="stylesheet" href="styles/main.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
            integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />

        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100..900;1,100..900&family=Orbitron:wght@400..900&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap"
            rel="stylesheet"
        />
    </head>
    <body>
        <main>
            <!-- Navigation will be inserted here -->
            <div id="navigation-container"></div>

            <div class="landing-content">
                <section class="hero-section">
                    <h1>
                        <i class="fa-solid fa-skull-crossbones"></i>
                        <span data-translate="hero.title"></span>
                    </h1>
                    <p class="tagline" data-translate="hero.tagline"></p>
                </section>

                <section class="intro-section">
                    <h2 data-translate="intro.heading"></h2>
                    <p data-translate="intro.paragraph1"></p>
                    <p data-translate="intro.paragraph2"></p>
                </section>

                <section class="call-to-action">
                    <a
                        href="pages/killers.html"
                        class="btn-primary"
                        data-translate="cta.viewKillers"
                        >View Top Killers</a
                    >
                </section>
            </div>

            <h1>
                <i class="fa-sharp fa-solid fa-trophy"></i>
                <span data-translate="page.stamped-header"
                    >Recently Stamped Mails</span
                >
            </h1>
            <div id="data-container" class="container"></div>

            <!-- Floating timezone toggle button -->
            <button
                id="timezone-toggle"
                class="timezone-toggle-floating"
                onclick="toggleTimezone()"
            >
                <i class="far fa-clock"></i>
                <span data-translate="timezone.showUtc">Show UTC</span>
            </button>
        </main>

        <!-- Added Footer -->
        <footer class="site-footer">
            <p>All EVE-Frontier related materials are property of CCP Games</p>
        </footer>

        <!-- Scripts -->
        <script src="js/translation-dictionary.js"></script>
        <script src="js/utils.js"></script>
        <script src="js/api.js"></script>
        <script src="js/websocket.js"></script>
        <script src="components/navigation.js"></script>
        <script src="js/common.js"></script>

        <script>
            // Page-specific initialization
            document.addEventListener("DOMContentLoaded", async () => {
                initializePage("home");

                try {
                    const data = await fetchRecentIncidents();
                    displayDataInContainer(
                        data,
                        "data-container",
                        createIncidentCard,
                        {
                            sortBy: "time_stamp",
                            sortDirection: "desc",
                            limit: 100,
                            noDataMessage: "No recent incidents found.",
                        },
                    );
                } catch (error) {
                    document.getElementById("data-container").textContent =
                        "Failed to load data.";
                }

                // Initialize WebSocket for live updates
                const wsManager = new WebSocketManager(
                    "wss://api.alpha-strike.space/ws/mails",
                    "data-container",
                );
                wsManager.connect();
            });
        </script>
    </body>
</html>

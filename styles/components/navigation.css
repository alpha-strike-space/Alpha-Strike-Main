/* styles/components/navigation.css */

/* Base styles for the top navigation */
.topnav {
    display: flex;
    position: fixed; /* Keep it fixed */
    top: 0;
    left: 0;
    align-items: center; /* Vertically align items in the nav bar */
    width: 100%;
    background: linear-gradient(
        135deg,
        rgba(26, 26, 26, 0.95) 0%,
        rgba(18, 18, 18, 0.98) 100%
    );
    padding: 0 var(--spacing-md); /* Consistent padding */
    box-shadow:
        0 var(--spacing-xs) 20px rgba(211, 47, 47, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.05),
        0 2px 10px rgba(0, 0, 0, 0.5);
    border-bottom: 2px solid rgba(211, 47, 47, 0.4);
    backdrop-filter: blur(10px);
    z-index: 1000; /* Ensure it's on top */
    min-height: 60px; /* Ensure a minimum height, adjust as needed */
    box-sizing: border-box;
}

/* Logo styling (new) */
.nav-logo.alpha-strike-logo {
    font-family: "Orbitron", sans-serif; /* Orbitron for logo */
    font-size: 1.5rem; /* Adjust size as needed */
    color: var(--color-primary);
    text-decoration: none;
    font-weight: 500;
    letter-spacing: 0.5px;
    padding: var(--spacing-sm) 0; /* Match link padding vertically if needed */
    margin-right: auto; /* Pushes other items (like hamburger on mobile, or links on desktop) to the right */
}


/* Hamburger Menu Button (new) */
.hamburger-menu {
    display: none; /* Hidden by default, shown on mobile */
    background: transparent;
    border: none;
    color: var(--color-text-primary);
    font-size: 1.8rem; /* Adjust size */
    cursor: pointer;
    padding: var(--spacing-sm);
    line-height: 1; /* Ensure icon is centered */
    z-index: 1001; /* Above topnav-links when they are absolute */
}

/* Container for navigation links */
.topnav-links {
    display: flex; /* Default for desktop: links in a row */
    align-items: center;
}

/* Navigation links general styling (mostly retained) */
.topnav-links a,
.topnav-links .lang-btn-nav { /* Target lang button specifically if it's styled as a link */
    color: var(--color-text-secondary);
    text-align: center;
    padding: var(--spacing-md) var(--spacing-lg); /* Consistent padding */
    text-decoration: none;
    font-family: "Exo 2", "Orbitron", monospace;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 1px;
    position: relative;
    transition: all 0.3s ease;
    margin: 0 var(--spacing-xs); /* Small margin between links */
    white-space: nowrap; /* Prevent links from wrapping */
}

/* Language button specific styling (retained hover from #animatedLangBtn) */
.lang-btn-nav {
    font-size: 1rem; /* Matches link font size */
    background: transparent;
    border: var(--border-primary);
    cursor: pointer;
    opacity: 1;
    /* position: relative; -> Already applied to general links */
    /* transition: all 0.3s ease; -> Already applied to general links */
    backdrop-filter: blur(5px); /* Retained */
}

.lang-btn-nav::before { /* From #animatedLangBtn styling */
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        135deg,
        rgba(211, 47, 47, 0.1) 0%,
        rgba(139, 0, 0, 0.2) 50%,
        rgba(211, 47, 47, 0.1) 100%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: -1;
}

.lang-btn-nav:hover { /* From #animatedLangBtn styling */
    background: linear-gradient(
        135deg,
        rgba(211, 47, 47, 0.8) 0%,
        rgba(139, 0, 0, 0.9) 50%,
        rgba(211, 47, 47, 0.8) 100%
    );
    color: #ffff;
    transform: translateY(-2px);
    box-shadow:
        0 6px 20px rgba(211, 47, 47, 0.4),
        var(--shadow-inset);
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
    border-color: rgba(211, 47, 47, 0.6);
}

.lang-btn-nav:hover::before { /* From #animatedLangBtn styling */
    opacity: 1;
}


/* Sci-fi hover effect for links (retained) */
.topnav-links a::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        135deg,
        rgba(211, 47, 47, 0.1) 0%,
        rgba(139, 0, 0, 0.2) 50%,
        rgba(211, 47, 47, 0.1) 100%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: -1;
}

/* Active link styling (retained) */
.topnav-links a.active {
    background: linear-gradient(
        135deg,
        rgba(211, 47, 47, 0.9) 0%,
        rgba(139, 0, 0, 1) 50%,
        rgba(211, 47, 47, 0.9) 100%
    );
    color: #ffff;
    box-shadow:
        inset 0 0 15px rgba(0, 0, 0, 0.5),
        var(--shadow-glow-primary),
        var(--shadow-inset);
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
    border: var(--border-primary-strong);
}

/* Hover effect for links (retained) */
.topnav-links a:hover {
    background: linear-gradient(
        135deg,
        rgba(211, 47, 47, 0.8) 0%,
        rgba(139, 0, 0, 0.9) 50%,
        rgba(211, 47, 47, 0.8) 100%
    );
    color: #ffff;
    transform: translateY(2px); /* Note: consider translateY(-2px) for upward lift on hover */
    box-shadow:
        0 6px 20px rgba(211, 47, 47, 0.4),
        var(--shadow-inset);
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
    border: var(--border-primary-strong);
}

.topnav-links a:hover::before {
    opacity: 1;
}

/* Sci-fi accent line (retained) */
.topnav::after {
    content: "";
    position: absolute;
    bottom: -2px; /* Ensure it's correctly positioned if nav height changes */
    left: 0;
    width: 100%;
    height: 1px;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(211, 47, 47, 0.8),
        rgba(139, 0, 0, 1),
        rgba(211, 47, 47, 0.8),
        transparent
    );
    box-shadow: 0 0 10px rgba(211, 47, 47, 0.5);
}

/* Sci-fi pulse animation for active elements (retained) */
@keyframes scifiPulse {
    0%,
    100% {
        box-shadow: var(--shadow-glow-primary), var(--shadow-inset);
    }
    50% {
        box-shadow:
            0 0 30px rgba(211, 47, 47, 0.6),
            inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }
}

.topnav-links a.active {
    animation: scifiPulse 3s ease-in-out infinite;
}

@media screen and (max-width: 1399px) and (min-width: 901px) {
    .topnav {
        padding: 0 var(--spacing-sm); /* Slightly reduce overall nav padding */
    }

    .nav-logo.alpha-strike-logo {
        font-size: 1.3rem; /* Slightly smaller logo */
    }

    .topnav-links a,
    .topnav-links .lang-btn-nav {
        padding: var(--spacing-md) var(--spacing-sm); /* Reduce horizontal padding for links */
        font-size: 0.85rem; /* Slightly smaller font for links */
        letter-spacing: 0.5px; /* Reduce letter spacing */
    }

    .topnav-links a i {
        margin-right: var(--spacing-xs); /* Reduce space between icon and text */
        font-size: 0.9em; /* Slightly smaller icons if needed */
    }

    /* Optional: Hide text and only show icons for some links if space is very tight */
    /* Example:
    .topnav-links a .text-label { // You would need to wrap text in <span class="text-label">
        display: none;
    }
    .topnav-links a i {
        margin-right: 0; // No margin if text is hidden
        font-size: 1.2em; // Make icons a bit bigger if they are standalone
    }
    .topnav-links a {
        padding: var(--spacing-md) var(--spacing-sm); // Adjust padding for icon-only
    }
    */

    .lang-btn-nav {
        padding: var(--spacing-sm) var(--spacing-md); /* Adjust padding for lang button */
        font-size: 0.85rem;
    }
}


/* Mobile Menu Styles - Breakpoint 800px (adjust as needed) */
@media screen and (max-width: 900px) {
    .topnav {
        /* Keep topnav as a flex container to align logo and hamburger */
        justify-content: space-between; /* Logo on left, hamburger on right */
        padding: 0 var(--spacing-sm); /* Reduced padding for mobile bar */
    }

    .nav-logo.alpha-strike-logo {
        margin-right: 0; /* Remove auto margin to allow hamburger to be on the right */
        font-size: 1.3rem; /* Slightly smaller logo on mobile */
    }

    .hamburger-menu {
        display: block; /* Show hamburger */
    }

    .topnav-links {
        display: none; /* Hide links container by default */
        flex-direction: column;
        position: absolute;
        top: 100%; /* Position below the topnav bar */
        left: 0;
        width: 100%;
        background: var(--gradient-dark); /* Same as desktop nav or slightly different */
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        border-top: 1px solid rgba(211, 47, 47, 0.2);
        max-height: 0; /* For transition */
        overflow: hidden;
        transition: max-height 0.3s ease-out, padding 0.3s ease-out;
        padding: 0;
    }

    .topnav-links.open {
        display: flex; /* Show when .open class is added */
        max-height: 100vh; /* Or a sufficiently large value */
        padding: var(--spacing-sm) 0; /* Add some padding when open */
    }

    .topnav-links a,
    .topnav-links .lang-btn-nav {
        width: 100%; /* Make links full width */
        text-align: left; /* Align text to the left */
        padding: var(--spacing-md) var(--spacing-lg); /* Adjust padding */
        margin: 0;
        border-bottom: var(--border-primary); /* Separator line */
        border-radius: 0; /* No rounded corners for list items */
        font-size: 1rem; /* Consistent font size */
    }
    
    .topnav-links a:last-of-type, /* Last link before language button */
    .topnav-links .lang-btn-nav { /* Language button styling in mobile */
        border-bottom: none; /* No border for the very last item */
    }

    /* Ensure lang button specific styles from desktop don't conflict too much */
    .topnav-links .lang-btn-nav {
        margin-left: 0; /* Override desktop margin */
        display: flex; /* To center content if needed */
        justify-content: flex-start; /* Align content to the left */
        align-items: center;
        border-top: var(--border-primary); /* Add top border to separate from links */
        border-left: none;
        border-right: none;
    }

    .topnav-links a:hover,
    .topnav-links .lang-btn-nav:hover {
        transform: none; /* Disable translateY on mobile hover */
        background-color: rgba(var(--color-primary-rgb, 211, 47, 47), 0.2); /* Simpler hover for mobile */
    }

    .topnav-links a.active {
        /* Simpler active state for mobile if needed, or keep desktop */
        box-shadow: inset 3px 0 0 var(--color-primary), var(--shadow-inset);
        border-left: 3px solid var(--color-primary); /* Alternative active indicator */
        padding-left: calc(var(--spacing-lg) - 3px);
    }
}